---
title: "[DB] 정렬과 연산"
excerpt: "<!--more-->"
categories:
  - DB
tags:
  - DB
  - database
  - SQL 첫걸음
toc: true
toc_sticky: true
toc_label: "[DB] 정렬과 연산"
toc_icon: "bookmark"
---

# 9. 정렬-ORDER BY

- ORDER BY 구를 지정하면 검색 결과의 행 순서를 바꿀 수 있음
  - 지정하지 않으면 데이터베이스 내부에 저장된 순서로 반환

## ORDER BY로 검색 결과 정렬

```sql
SELECT 열명 FROM 테이블명 (WHERE 조건식) ORDER BY 열명
```

- 검색 조건이 필요없는 경우 **WHERE 구 생략 가능**

## ORDER BY DESC로 내림차순으로 정렬

- ORDER BY 구에 지정한 열의 값에 따라 행의 순서가 바뀜

```sql
SELECT 열명 FROM 테이블명 ORDER BY 열명 DESC
```

- 내림차순은 열명 뒤에 `DESC`를 붙여 지정
  - DESC는 descendant(하강)의 약자

```sql
SELECT 열명 FROM 테이블명 ORDER BY 열명 ASC
```

- 오름차순은 생략가능하며 `ASC`로도 지정할 수 있음
  - ASC는 ascendant(상승)의 약자
- ASC or DESC로 정렬 방법을 지정하지 않으면 ASC로 간주
  - 즉, **ORDER BY의 기본 정렬방법은 오름차순**

## 대소관계

**수치형 데이터, 날짜 시간형 데이터**

- 숫자의 크기로 판별

**문자열형 데이터**

- 알파벳, 한글 순이며 한글은 자음, 모음 순
  - 사전식 순서에 의해 결정

**사전식 순서에서 주의할 점**

- 수치형과 문자열형 데이터는 대소관계의 계산 방법이 다름

## ORDER BY는 테이블에 영향을 주지 않음

- `ORDER BY`는 서버에서 클라로 행 순서를 바꾸어 결과를 반환하는 것 뿐 저장장치에 저장된 데이터의 행 순서를 변경하지 않음
- `SELECT` 명령은 테이블의 데이터를 참조만 할 뿐 변경하지 않음

# 10. 복수의 열을 지정해 정렬하기

## 복수 열로 정렬 지정

- `ORDER BY`로 행을 정렬하는 경우 같은 값을 가진 행의 순서와 ORDER BY 구를 생략했을 때 순서는 일정하지 않음
  - 데이터베이스 서버의 당시 상황에 따라 어떤 순서로 행을 반환할지 결정됨
  - 언제나 같은 결과 값을 얻기 위해서는 ORDER BY 구로 순서를 지정해야함

**ORDER BY로 복수 열 지정**

- ORDER BY 구에는 SELECT 구에서 열을 콤마(,)로 열명을 구분한 것 처럼 복수로 열을 지정할 수 있음

```sql
SELECT 열명 FROM 테이블명 ORDER BY 열명1, 열명2...
```

- 복수 열을 지정하면 정렬 순서는 지정한 열명의 순서를 따름

## 정렬방법 지정

- 복수 열을 지정한 경우 각 열에 대해 개별적으로 정렬방법을 지정할 수 있음
  - 각 열 뒤에 ASC or DESC를 붙임

```sql
SELECT 열명 FROM 테이블명
  ORDER BY 열명1 [ASC|DESC], 열명2 [ASC|DESC]...
```

- **[]** 부분은 생략 가능
- **\|**는 둘중 하나라는 뜻
- **...**는 동일한 형태로 연속해서 지정할 수 있다는 의미

- 복수 열을 지정하는 경우에 정렬방법을 생략하면 기본값으로 ASC가 됨
  - 데이터베이스 제품에 따라 기본값이 다를 수도 있음
  - 가독성을 위해서 가능한 한 정렬방법을 생략하지 않고 표기하는 것이 좋음

## NULL 값의 정렬순서

- ORDER BY로 지정한 열에서 NULL 값을 가지는 행은 가장 먼저 표시되거나 가장 나중에 표시됨
- NULL에 대한 대소비교 방법은 표준 SQL에도 규정되어 있지 않아 데이터베이스 제품에 따라 다름
  - MySQL의 경우 NULL 값을 가장 작은 값을 취급함
    - ASC(오름차순)에서는 가장 먼저, DESC(내림차순)에서는 가장 나중에 표시


# reference

> [SQL 첫걸음](https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=69025381)